(function(n){var t={};function o(r){if(t[r])return t[r].exports;var e=t[r]={i:r,l:!1,exports:{}};return n[r].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=t,o.d=function(n,t,r){o.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},o.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)o.d(r,e,function(t){return n[t]}.bind(null,e));return r},o.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return o.d(t,"a",t),t},o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},o.p="",o(o.s=0)})({0:function(n,t,o){n.exports=o("56d7")},"56d7":function(n,t,o){"use strict";o.r(t);var r={};o.r(r),o.d(r,"NOT_LOADED",(function(){return i})),o.d(r,"LOADING_SOURCE_CODE",(function(){return c})),o.d(r,"NOT_BOOTSTRAPPED",(function(){return u})),o.d(r,"BOOTSTRAPPING",(function(){return a})),o.d(r,"NOT_MOUNTED",(function(){return s})),o.d(r,"MOUNTING",(function(){return p})),o.d(r,"MOUNTED",(function(){return f})),o.d(r,"UPDATING",(function(){return l})),o.d(r,"UNMOUNTING",(function(){return d})),o.d(r,"UNLOADING",(function(){return O})),o.d(r,"LOAD_ERROR",(function(){return y})),o.d(r,"SKIP_BECAUSE_BROKEN",(function(){return N})),o.d(r,"getApplications",(function(){return T})),o.d(r,"start",(function(){return v})),o.d(r,"registerApplication",(function(){return E})),o.d(r,"unregisterApplication",(function(){return _})),o.d(r,"findApplicationIndex",(function(){return P})),o.d(r,"findApplication",(function(){return U})),o.d(r,"loadApplication",(function(){return D})),o.d(r,"unloadApplication",(function(){return I})),o.d(r,"bootstrapApplication",(function(){return b})),o.d(r,"mountApplication",(function(){return h})),o.d(r,"unmountApplication",(function(){return S})),o.d(r,"unmountApplications",(function(){return R})),o.d(r,"navigateToUrl",(function(){return j}));const e=[],i="NOT_LOADED",c="LOADING_SOURCE_CODE",u="NOT_BOOTSTRAPPED",a="BOOTSTRAPPING",s="NOT_MOUNTED",p="MOUNTING",f="MOUNTED",l="UPDATING",d="UNMOUNTING",O="UNLOADING",y="LOAD_ERROR",N="SKIP_BECAUSE_BROKEN";function m(n){async function t(){const t=[];for(const o of n)t.push(await o());return t}return t()}function A(){return e.filter(({activeWhen:n})=>n(window.location))}function w(){return e.filter(({activeWhen:n,response:t})=>t&&!n(window.location))}function T(){return e}async function g(){const n=A();console.log("active:",n);for(const t of n)await m([async()=>D(t.name),async()=>b(t.name),async()=>R(),async()=>h(t.name)])}async function v(){console.log("start app"),g(),window.addEventListener("popstate",n=>{console.log("popstate, from start:",n),g()})}async function E(n,t,o,r={}){e.push({loadErrorTime:0,name:n,loadImpl:t,activeWhen:o,status:i,customProps:r})}async function _(n){const t=U(n);G(t,n,"unregister"),await S(n),await I(n),e.splice(P[n],1)}function P(n){return e.findIndex(({name:t})=>t===n)}function U(n){return e[P(n)]}async function D(n){const t=U(n);return G(t,n,"load"),t.status=u,t.response||(t.response=await t.loadImpl()),t}async function I(n,t={waitForUnmount:!1}){const o=U(n);G(o,n,"unload")}async function b(n){const t=U(n);G(t,n,"bootstrap");const{bootstrap:o}=t.response;return M(o)}async function h(n){const t=U(n);G(t,n,"mount");const{mount:o}=t.response;return M(o)}async function S(n){const t=U(n);G(t,n,"unmount");const{unmount:o}=t.response;return M(o)}async function R(){const n=w();console.log("unActive:",n);for(const t of n)await S(t.name)}function j(n){console.log("navigate to:",n)}function G(n,t,o){if(!n)throw new Error(`${o} --- no application: ${t}.`)}function M(n){return Array.isArray(n)?Promise.all(n.map(n=>n({}))):n({})}var L=["typescript","javascript"];window.NProgress.configure({showSpinner:!0});const{registerApplication:x,start:B,navigateToUrl:C}=r,$=Object.create(null),K=n=>t=>t.hash.startsWith(`#${n}`),W=async()=>{const n=window.location.hash;if(!n)return;const[,t]=n.split("/");if(!t)return;if(!L.includes(t))return;if($[t])return;window.NProgress.start();const{default:o}=await window.System.import(`./${t}/main.js`);if($[t]=o,window.NProgress.done(!0),"function"===typeof o.render){const n=o.render();return n}return o},F=async n=>{console.log("navigateToApplication",n),console.log("after load application",n),C(`#/${n}`)},k=[{path:"/javascript",name:"javascript",application:()=>W("javascript")},{path:"/typescript",name:"typescript",application:()=>W("typescript")}],q=(n=[])=>{n.forEach(({path:n,name:t,application:o})=>{x(t,o,K(n))}),B()};q(k),window.navigateToApplication=F,window._applications=$}});